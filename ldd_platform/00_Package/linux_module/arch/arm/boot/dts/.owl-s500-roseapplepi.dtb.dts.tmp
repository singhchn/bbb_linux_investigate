# 1 "arch/arm/boot/dts/owl-s500-roseapplepi.dts"
# 1 "<built-in>"
# 1 "<command-line>"
# 1 "arch/arm/boot/dts/owl-s500-roseapplepi.dts"







/dts-v1/;

# 1 "arch/arm/boot/dts/owl-s500.dtsi" 1







# 1 "./scripts/dtc/include-prefixes/dt-bindings/clock/actions,s500-cmu.h" 1
# 9 "arch/arm/boot/dts/owl-s500.dtsi" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/gpio/gpio.h" 1
# 10 "arch/arm/boot/dts/owl-s500.dtsi" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/interrupt-controller/arm-gic.h" 1
# 9 "./scripts/dtc/include-prefixes/dt-bindings/interrupt-controller/arm-gic.h"
# 1 "./scripts/dtc/include-prefixes/dt-bindings/interrupt-controller/irq.h" 1
# 10 "./scripts/dtc/include-prefixes/dt-bindings/interrupt-controller/arm-gic.h" 2
# 11 "arch/arm/boot/dts/owl-s500.dtsi" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/power/owl-s500-powergate.h" 1
# 12 "arch/arm/boot/dts/owl-s500.dtsi" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/reset/actions,s500-reset.h" 1
# 13 "arch/arm/boot/dts/owl-s500.dtsi" 2

/ {
 compatible = "actions,s500";
 interrupt-parent = <&gic>;
 #address-cells = <1>;
 #size-cells = <1>;

 aliases {
 };

 chosen {
 };

 cpus {
  #address-cells = <1>;
  #size-cells = <0>;

  cpu0: cpu@0 {
   device_type = "cpu";
   compatible = "arm,cortex-a9";
   reg = <0x0>;
   enable-method = "actions,s500-smp";
  };

  cpu1: cpu@1 {
   device_type = "cpu";
   compatible = "arm,cortex-a9";
   reg = <0x1>;
   enable-method = "actions,s500-smp";
  };

  cpu2: cpu@2 {
   device_type = "cpu";
   compatible = "arm,cortex-a9";
   reg = <0x2>;
   enable-method = "actions,s500-smp";
   power-domains = <&sps 3>;
  };

  cpu3: cpu@3 {
   device_type = "cpu";
   compatible = "arm,cortex-a9";
   reg = <0x3>;
   enable-method = "actions,s500-smp";
   power-domains = <&sps 4>;
  };
 };

 arm-pmu {
  compatible = "arm,cortex-a9-pmu";
  interrupts = <0 4 4>,
               <0 5 4>,
               <0 6 4>,
               <0 7 4>;
  interrupt-affinity = <&cpu0>, <&cpu1>, <&cpu2>, <&cpu3>;
 };

 hosc: hosc {
  compatible = "fixed-clock";
  clock-frequency = <24000000>;
  #clock-cells = <0>;
 };

 losc: losc {
  compatible = "fixed-clock";
  clock-frequency = <32768>;
  #clock-cells = <0>;
 };

 soc {
  compatible = "simple-bus";
  #address-cells = <1>;
  #size-cells = <1>;
  ranges;

  scu: scu@b0020000 {
   compatible = "arm,cortex-a9-scu";
   reg = <0xb0020000 0x100>;
  };

  global_timer: timer@b0020200 {
   compatible = "arm,cortex-a9-global-timer";
   reg = <0xb0020200 0x100>;
   interrupts = <1 11 ((((1 << (4)) - 1) << 8) | 1)>;
   status = "disabled";
  };

  twd_timer: timer@b0020600 {
   compatible = "arm,cortex-a9-twd-timer";
   reg = <0xb0020600 0x20>;
   interrupts = <1 13 ((((1 << (4)) - 1) << 8) | 1)>;
   status = "disabled";
  };

  twd_wdt: wdt@b0020620 {
   compatible = "arm,cortex-a9-twd-wdt";
   reg = <0xb0020620 0xe0>;
   interrupts = <1 14 ((((1 << (4)) - 1) << 8) | 1)>;
   status = "disabled";
  };

  gic: interrupt-controller@b0021000 {
   compatible = "arm,cortex-a9-gic";
   reg = <0xb0021000 0x1000>,
         <0xb0020100 0x0100>;
   interrupt-controller;
   #interrupt-cells = <3>;
  };

  l2: cache-controller@b0022000 {
   compatible = "arm,pl310-cache";
   reg = <0xb0022000 0x1000>;
   cache-unified;
   cache-level = <2>;
   interrupts = <0 55 4>;
   arm,tag-latency = <3 3 2>;
   arm,data-latency = <5 3 3>;
  };

  uart0: serial@b0120000 {
   compatible = "actions,s500-uart", "actions,owl-uart";
   reg = <0xb0120000 0x2000>;
   interrupts = <0 29 4>;
   clocks = <&cmu 38>;
   status = "disabled";
  };

  uart1: serial@b0122000 {
   compatible = "actions,s500-uart", "actions,owl-uart";
   reg = <0xb0122000 0x2000>;
   interrupts = <0 30 4>;
   clocks = <&cmu 39>;
   status = "disabled";
  };

  uart2: serial@b0124000 {
   compatible = "actions,s500-uart", "actions,owl-uart";
   reg = <0xb0124000 0x2000>;
   interrupts = <0 31 4>;
   clocks = <&cmu 40>;
   status = "disabled";
  };

  uart3: serial@b0126000 {
   compatible = "actions,s500-uart", "actions,owl-uart";
   reg = <0xb0126000 0x2000>;
   interrupts = <0 32 4>;
   clocks = <&cmu 41>;
   status = "disabled";
  };

  uart4: serial@b0128000 {
   compatible = "actions,s500-uart", "actions,owl-uart";
   reg = <0xb0128000 0x2000>;
   interrupts = <0 33 4>;
   clocks = <&cmu 42>;
   status = "disabled";
  };

  uart5: serial@b012a000 {
   compatible = "actions,s500-uart", "actions,owl-uart";
   reg = <0xb012a000 0x2000>;
   interrupts = <0 34 4>;
   clocks = <&cmu 43>;
   status = "disabled";
  };

  uart6: serial@b012c000 {
   compatible = "actions,s500-uart", "actions,owl-uart";
   reg = <0xb012c000 0x2000>;
   interrupts = <0 35 4>;
   clocks = <&cmu 44>;
   status = "disabled";
  };

  cmu: clock-controller@b0160000 {
   compatible = "actions,s500-cmu";
   reg = <0xb0160000 0x8000>;
   clocks = <&hosc>, <&losc>;
   #clock-cells = <1>;
   #reset-cells = <1>;
  };

  i2c0: i2c@b0170000 {
   compatible = "actions,s500-i2c";
   reg = <0xb0170000 0x4000>;
   clocks = <&cmu 19>;
   interrupts = <0 25 4>;
   #address-cells = <1>;
   #size-cells = <0>;
   status = "disabled";
  };

  i2c1: i2c@b0174000 {
   compatible = "actions,s500-i2c";
   reg = <0xb0174000 0x4000>;
   clocks = <&cmu 20>;
   interrupts = <0 26 4>;
   #address-cells = <1>;
   #size-cells = <0>;
   status = "disabled";
  };

  i2c2: i2c@b0178000 {
   compatible = "actions,s500-i2c";
   reg = <0xb0178000 0x4000>;
   clocks = <&cmu 21>;
   interrupts = <0 27 4>;
   #address-cells = <1>;
   #size-cells = <0>;
   status = "disabled";
  };

  i2c3: i2c@b017c000 {
   compatible = "actions,s500-i2c";
   reg = <0xb017c000 0x4000>;
   clocks = <&cmu 22>;
   interrupts = <0 28 4>;
   #address-cells = <1>;
   #size-cells = <0>;
   status = "disabled";
  };

  sirq: interrupt-controller@b01b0200 {
   compatible = "actions,s500-sirq";
   reg = <0xb01b0200 0x4>;
   interrupt-controller;
   #interrupt-cells = <2>;
   interrupts = <0 13 4>,
         <0 14 4>,
         <0 15 4>;
  };

  timer: timer@b0168000 {
   compatible = "actions,s500-timer";
   reg = <0xb0168000 0x8000>;
   interrupts = <0 8 4>,
                <0 9 4>,
                <0 10 4>,
                <0 11 4>;
   interrupt-names = "2hz0", "2hz1", "timer0", "timer1";
  };

  sps: power-controller@b01b0100 {
   compatible = "actions,s500-sps";
   reg = <0xb01b0100 0x100>;
   #power-domain-cells = <1>;
  };

  pinctrl: pinctrl@b01b0000 {
   compatible = "actions,s500-pinctrl";
   reg = <0xb01b0000 0x40>,
         <0xb01b0040 0x10>,
         <0xb01b0060 0x18>,
         <0xb01b0080 0xc>;
   clocks = <&cmu 55>;
   gpio-controller;
   gpio-ranges = <&pinctrl 0 0 132>;
   #gpio-cells = <2>;
   interrupt-controller;
   #interrupt-cells = <2>;
   interrupts = <0 36 4>,
         <0 37 4>,
         <0 38 4>,
         <0 39 4>,
         <0 40 4>;
  };

  dma: dma-controller@b0260000 {
   compatible = "actions,s500-dma";
   reg = <0xb0260000 0xd00>;
   interrupts = <0 57 4>,
         <0 58 4>,
         <0 59 4>,
         <0 60 4>;
   #dma-cells = <1>;
   dma-channels = <12>;
   dma-requests = <46>;
   clocks = <&cmu 57>;
   power-domains = <&sps 5>;
  };

  mmc0: mmc@b0230000 {
   compatible = "actions,s500-mmc", "actions,owl-mmc";
   reg = <0xb0230000 0x38>;
   interrupts = <0 42 4>;
   clocks = <&cmu 29>;
   resets = <&cmu 4>;
   dmas = <&dma 2>;
   dma-names = "mmc";
   status = "disabled";
  };

  mmc1: mmc@b0234000 {
   compatible = "actions,s500-mmc", "actions,owl-mmc";
   reg = <0xb0234000 0x38>;
   interrupts = <0 43 4>;
   clocks = <&cmu 30>;
   resets = <&cmu 5>;
   dmas = <&dma 3>;
   dma-names = "mmc";
   status = "disabled";
  };

  mmc2: mmc@b0238000 {
   compatible = "actions,s500-mmc", "actions,owl-mmc";
   reg = <0xb0238000 0x38>;
   interrupts = <0 44 4>;
   clocks = <&cmu 31>;
   resets = <&cmu 9>;
   dmas = <&dma 4>;
   dma-names = "mmc";
   status = "disabled";
  };

  ethernet: ethernet@b0310000 {
   compatible = "actions,s500-emac", "actions,owl-emac";
   reg = <0xb0310000 0x10000>;
   interrupts = <0 0 4>;
   clocks = <&cmu 59>, <&cmu 54>;
   clock-names = "eth", "rmii";
   resets = <&cmu 43>;
   status = "disabled";
  };
 };
};
# 11 "arch/arm/boot/dts/owl-s500-roseapplepi.dts" 2

/ {
 compatible = "roseapplepi,roseapplepi", "actions,s500";
 model = "Roseapple Pi";

 aliases {
  mmc0 = &mmc0;
  serial2 = &uart2;
 };

 chosen {
  stdout-path = "serial2:115200n8";
 };

 memory@0 {
  device_type = "memory";
  reg = <0x0 0x80000000>;
 };

 syspwr: regulator-5v0 {
  compatible = "regulator-fixed";
  regulator-name = "SYSPWR";
  regulator-min-microvolt = <5000000>;
  regulator-max-microvolt = <5000000>;
  regulator-always-on;
 };
};

&cpu0 {
 cpu0-supply = <&vdd_cpu>;
};

&i2c0 {
 status = "okay";
 pinctrl-names = "default";
 pinctrl-0 = <&i2c0_pins>;

 atc260x: pmic@65 {
  compatible = "actions,atc2603c";
  reg = <0x65>;
  interrupt-parent = <&sirq>;
  interrupts = <2 4>;

  reset-time-sec = <6>;

  regulators {
   compatible = "actions,atc2603c-regulator";

   dcdc1-supply = <&syspwr>;
   dcdc2-supply = <&syspwr>;
   dcdc3-supply = <&syspwr>;
   ldo1-supply = <&syspwr>;
   ldo2-supply = <&syspwr>;
   ldo3-supply = <&syspwr>;
   ldo5-supply = <&syspwr>;
   ldo6-supply = <&syspwr>;
   ldo7-supply = <&syspwr>;
   ldo8-supply = <&syspwr>;
   ldo11-supply = <&syspwr>;
   ldo12-supply = <&syspwr>;
   switchldo1-supply = <&vcc>;

   vdd_cpu: dcdc1 {
    regulator-name = "VDD_CPU";
    regulator-min-microvolt = <700000>;
    regulator-max-microvolt = <1400000>;
    regulator-always-on;
   };

   vddq: dcdc2 {
    regulator-name = "VDDQ";
    regulator-min-microvolt = <1300000>;
    regulator-max-microvolt = <2150000>;
    regulator-always-on;
    regulator-boot-on;
   };

   vcc: dcdc3 {
    regulator-name = "VCC";
    regulator-min-microvolt = <2600000>;
    regulator-max-microvolt = <3300000>;
    regulator-always-on;
   };

   vcc_3v3: ldo1 {
    regulator-name = "VCC_3V3";
    regulator-min-microvolt = <2600000>;
    regulator-max-microvolt = <3300000>;
    regulator-always-on;
   };

   avcc: ldo2 {
    regulator-name = "AVCC";
    regulator-min-microvolt = <2600000>;
    regulator-max-microvolt = <3300000>;
    regulator-always-on;
   };

   vdd_1v8: ldo3 {
    regulator-name = "VDD_1V8";
    regulator-min-microvolt = <1500000>;
    regulator-max-microvolt = <2000000>;
    regulator-always-on;
   };

   vcc_3v1: ldo5 {
    regulator-name = "VCC_3V1";
    regulator-min-microvolt = <2600000>;
    regulator-max-microvolt = <3300000>;
   };

   avdd: ldo6 {
    regulator-name = "AVDD";
    regulator-min-microvolt = <700000>;
    regulator-max-microvolt = <1400000>;
    regulator-always-on;
   };

   sens_1v8: ldo7 {
    regulator-name = "SENS_1V8";
    regulator-min-microvolt = <1800000>;
    regulator-max-microvolt = <1800000>;
   };

   ldo8: ldo8 {
    regulator-name = "LDO8";
    regulator-min-microvolt = <2300000>;
    regulator-max-microvolt = <3300000>;
   };

   svcc: ldo11 {
    regulator-name = "SVCC";
    regulator-min-microvolt = <2600000>;
    regulator-max-microvolt = <3300000>;
    regulator-always-on;
   };

   rtc_vdd: ldo12 {
    regulator-name = "RTC_VDD";
    regulator-min-microvolt = <1800000>;
    regulator-max-microvolt = <1800000>;
    regulator-always-on;
   };

   sd_vcc: switchldo1 {
    regulator-name = "SD_VCC";
    regulator-min-microvolt = <3000000>;
    regulator-max-microvolt = <3300000>;
    regulator-always-on;
    regulator-boot-on;
   };
  };
 };
};

&i2c1 {
 status = "disabled";
 pinctrl-names = "default";
 pinctrl-0 = <&i2c1_pins>;
};

&i2c2 {
 status = "disabled";
 pinctrl-names = "default";
 pinctrl-0 = <&i2c2_pins>;
};

&pinctrl {
 i2c0_pins: i2c0-pins {
  pinmux {
   groups = "i2c0_mfp";
   function = "i2c0";
  };

  pinconf {
   pins = "i2c0_sclk", "i2c0_sdata";
   bias-pull-up;
  };
 };

 i2c1_pins: i2c1-pins {
  pinconf {
   pins = "i2c1_sclk", "i2c1_sdata";
   bias-pull-up;
  };
 };

 i2c2_pins: i2c2-pins {
  pinconf {
   pins = "i2c2_sclk", "i2c2_sdata";
   bias-pull-up;
  };
 };

 mmc0_pins: mmc0-pins {
  pinmux {
   groups = "sd0_d0_mfp", "sd0_d1_mfp", "sd0_d2_d3_mfp",
     "sd0_cmd_mfp", "sd0_clk_mfp";
   function = "sd0";
  };

  drv-pinconf {
   groups = "sd0_d0_d3_drv", "sd0_cmd_drv", "sd0_clk_drv";
   drive-strength = <8>;
  };

  bias0-pinconf {
   pins = "sd0_d0", "sd0_d1", "sd0_d2",
          "sd0_d3", "sd0_cmd";
   bias-pull-up;
  };

  bias1-pinconf {
   pins = "sd0_clk";
   bias-pull-down;
  };
 };

 ethernet_pins: ethernet-pins {
  eth_rmii-pinmux {
   groups = "rmii_txd0_mfp", "rmii_txd1_mfp",
     "rmii_rxd0_mfp", "rmii_rxd1_mfp",
     "rmii_txen_mfp", "rmii_rxen_mfp",
     "rmii_crs_dv_mfp", "rmii_ref_clk_mfp";
   function = "eth_rmii";
  };

  phy_clk-pinmux {
   groups = "clko_25m_mfp";
   function = "clko_25m";
  };

  ref_clk-pinconf {
   groups = "rmii_ref_clk_drv";
   drive-strength = <2>;
  };

 };
};


&mmc0 {
 status = "okay";
 pinctrl-names = "default";
 pinctrl-0 = <&mmc0_pins>;
 no-sdio;
 no-mmc;
 no-1-8-v;
 cd-gpios = <&pinctrl 117 1>;
 bus-width = <4>;
 vmmc-supply = <&sd_vcc>;
 vqmmc-supply = <&sd_vcc>;
};

&ethernet {
 pinctrl-names = "default";
 pinctrl-0 = <&ethernet_pins>;
 phy-mode = "rmii";
 phy-handle = <&eth_phy>;
 status = "okay";

 mdio {
  #address-cells = <1>;
  #size-cells = <0>;

  reset-gpios = <&pinctrl 88 1>;
  reset-delay-us = <10000>;
  reset-post-delay-us = <150000>;

  eth_phy: ethernet-phy@3 {
   reg = <0x3>;
   max-speed = <100>;
   interrupt-parent = <&sirq>;
   interrupts = <0 8>;
  };
 };
};

&twd_timer {
 status = "okay";
};

&timer {
 clocks = <&hosc>;
};

&uart2 {
 status = "okay";
};
