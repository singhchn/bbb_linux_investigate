# 1 "arch/arm/boot/dts/berlin2q-marvell-dmp.dts"
# 1 "<built-in>"
# 1 "<command-line>"
# 1 "arch/arm/boot/dts/berlin2q-marvell-dmp.dts"





/dts-v1/;

# 1 "./scripts/dtc/include-prefixes/dt-bindings/gpio/gpio.h" 1
# 9 "arch/arm/boot/dts/berlin2q-marvell-dmp.dts" 2
# 1 "arch/arm/boot/dts/berlin2q.dtsi" 1





# 1 "./scripts/dtc/include-prefixes/dt-bindings/clock/berlin2q.h" 1
# 7 "arch/arm/boot/dts/berlin2q.dtsi" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/interrupt-controller/arm-gic.h" 1
# 9 "./scripts/dtc/include-prefixes/dt-bindings/interrupt-controller/arm-gic.h"
# 1 "./scripts/dtc/include-prefixes/dt-bindings/interrupt-controller/irq.h" 1
# 10 "./scripts/dtc/include-prefixes/dt-bindings/interrupt-controller/arm-gic.h" 2
# 8 "arch/arm/boot/dts/berlin2q.dtsi" 2

/ {
 model = "Marvell Armada 1500 pro (BG2-Q) SoC";
 compatible = "marvell,berlin2q", "marvell,berlin";
 #address-cells = <1>;
 #size-cells = <1>;

 aliases {
  serial0 = &uart0;
  serial1 = &uart1;
 };

 cpus {
  #address-cells = <1>;
  #size-cells = <0>;
  enable-method = "marvell,berlin-smp";

  cpu0: cpu@0 {
   compatible = "arm,cortex-a9";
   device_type = "cpu";
   next-level-cache = <&l2>;
   reg = <0>;

   clocks = <&chip_clk 27>;
   clock-latency = <100000>;

   operating-points = <

    1200000 1200000
    1000000 1200000
    800000 1200000
    600000 1200000
   >;
  };

  cpu1: cpu@1 {
   compatible = "arm,cortex-a9";
   device_type = "cpu";
   next-level-cache = <&l2>;
   reg = <1>;

   clocks = <&chip_clk 27>;
   clock-latency = <100000>;

   operating-points = <

    1200000 1200000
    1000000 1200000
    800000 1200000
    600000 1200000
   >;
  };

  cpu2: cpu@2 {
   compatible = "arm,cortex-a9";
   device_type = "cpu";
   next-level-cache = <&l2>;
   reg = <2>;

   clocks = <&chip_clk 27>;
   clock-latency = <100000>;

   operating-points = <

    1200000 1200000
    1000000 1200000
    800000 1200000
    600000 1200000
   >;
  };

  cpu3: cpu@3 {
   compatible = "arm,cortex-a9";
   device_type = "cpu";
   next-level-cache = <&l2>;
   reg = <3>;

   clocks = <&chip_clk 27>;
   clock-latency = <100000>;

   operating-points = <

    1200000 1200000
    1000000 1200000
    800000 1200000
    600000 1200000
   >;
  };
 };

 pmu {
  compatible = "arm,cortex-a9-pmu";
  interrupt-parent = <&gic>;
  interrupts = <0 30 4>,
        <0 31 4>,
        <0 40 4>,
        <0 41 4>;
  interrupt-affinity = <&cpu0>,
         <&cpu1>,
         <&cpu2>,
         <&cpu3>;
 };

 refclk: oscillator {
  compatible = "fixed-clock";
  #clock-cells = <0>;
  clock-frequency = <25000000>;
 };

 soc@f7000000 {
  compatible = "simple-bus";
  #address-cells = <1>;
  #size-cells = <1>;

  ranges = <0 0xf7000000 0x1000000>;
  interrupt-parent = <&gic>;

  sdhci0: mmc@ab0000 {
   compatible = "mrvl,pxav3-mmc";
   reg = <0xab0000 0x200>;
   clocks = <&chip_clk 12>, <&chip_clk 22>;
   clock-names = "io", "core";
   interrupts = <0 17 4>;
   status = "disabled";
  };

  sdhci1: mmc@ab0800 {
   compatible = "mrvl,pxav3-mmc";
   reg = <0xab0800 0x200>;
   clocks = <&chip_clk 12>, <&chip_clk 22>;
   clock-names = "io", "core";
   interrupts = <0 20 4>;
   status = "disabled";
  };

  sdhci2: mmc@ab1000 {
   compatible = "mrvl,pxav3-mmc";
   reg = <0xab1000 0x200>;
   interrupts = <0 28 4>;
   clocks = <&chip_clk 8>, <&chip_clk 22>;
   clock-names = "io", "core";
   status = "disabled";
  };

  l2: cache-controller@ac0000 {
   compatible = "arm,pl310-cache";
   reg = <0xac0000 0x1000>;
   cache-unified;
   cache-level = <2>;
   arm,data-latency = <2 2 2>;
   arm,tag-latency = <2 2 2>;
  };

  scu: snoop-control-unit@ad0000 {
   compatible = "arm,cortex-a9-scu";
   reg = <0xad0000 0x58>;
  };

  local-timer@ad0600 {
   compatible = "arm,cortex-a9-twd-timer";
   reg = <0xad0600 0x20>;
   clocks = <&chip_clk 26>;
   interrupts = <1 13 ((((1 << (4)) - 1) << 8) | 1)>;
  };

  gic: interrupt-controller@ad1000 {
   compatible = "arm,cortex-a9-gic";
   reg = <0xad1000 0x1000>, <0xad0100 0x100>;
   interrupt-controller;
   #interrupt-cells = <3>;
  };

  usb_phy2: phy@a2f400 {
   compatible = "marvell,berlin2cd-usb-phy";
   reg = <0xa2f400 0x128>;
   #phy-cells = <0>;
   resets = <&chip_rst 0x104 14>;
   status = "disabled";
  };

  usb2: usb@a30000 {
   compatible = "chipidea,usb2";
   reg = <0xa30000 0x10000>;
   interrupts = <0 52 4>;
   clocks = <&chip_clk 19>;
   phys = <&usb_phy2>;
   phy-names = "usb-phy";
   status = "disabled";
  };

  usb_phy0: phy@b74000 {
   compatible = "marvell,berlin2cd-usb-phy";
   reg = <0xb74000 0x128>;
   #phy-cells = <0>;
   resets = <&chip_rst 0x104 12>;
   status = "disabled";
  };

  usb_phy1: phy@b78000 {
   compatible = "marvell,berlin2cd-usb-phy";
   reg = <0xb78000 0x128>;
   #phy-cells = <0>;
   resets = <&chip_rst 0x104 13>;
   status = "disabled";
  };

  eth0: ethernet@b90000 {
   compatible = "marvell,pxa168-eth";
   reg = <0xb90000 0x10000>;
   clocks = <&chip_clk 14>;
   interrupts = <0 24 4>;

   local-mac-address = [00 00 00 00 00 00];
   #address-cells = <1>;
   #size-cells = <0>;
   phy-connection-type = "mii";
   phy-handle = <&ethphy0>;
   status = "disabled";

   ethphy0: ethernet-phy@0 {
    reg = <0>;
   };
  };

  cpu-ctrl@dd0000 {
   compatible = "marvell,berlin-cpu-ctrl";
   reg = <0xdd0000 0x10000>;
  };

  apb@e80000 {
   compatible = "simple-bus";
   #address-cells = <1>;
   #size-cells = <1>;

   ranges = <0 0xe80000 0x10000>;
   interrupt-parent = <&aic>;

   gpio0: gpio@400 {
    compatible = "snps,dw-apb-gpio";
    reg = <0x0400 0x400>;
    #address-cells = <1>;
    #size-cells = <0>;

    porta: gpio-port@0 {
     compatible = "snps,dw-apb-gpio-port";
     gpio-controller;
     #gpio-cells = <2>;
     ngpios = <32>;
     reg = <0>;
     interrupt-controller;
     #interrupt-cells = <2>;
     interrupts = <0>;
    };
   };

   gpio1: gpio@800 {
    compatible = "snps,dw-apb-gpio";
    reg = <0x0800 0x400>;
    #address-cells = <1>;
    #size-cells = <0>;

    portb: gpio-port@1 {
     compatible = "snps,dw-apb-gpio-port";
     gpio-controller;
     #gpio-cells = <2>;
     ngpios = <32>;
     reg = <0>;
     interrupt-controller;
     #interrupt-cells = <2>;
     interrupts = <1>;
    };
   };

   gpio2: gpio@c00 {
    compatible = "snps,dw-apb-gpio";
    reg = <0x0c00 0x400>;
    #address-cells = <1>;
    #size-cells = <0>;

    portc: gpio-port@2 {
     compatible = "snps,dw-apb-gpio-port";
     gpio-controller;
     #gpio-cells = <2>;
     ngpios = <32>;
     reg = <0>;
     interrupt-controller;
     #interrupt-cells = <2>;
     interrupts = <2>;
    };
   };

   gpio3: gpio@1000 {
    compatible = "snps,dw-apb-gpio";
    reg = <0x1000 0x400>;
    #address-cells = <1>;
    #size-cells = <0>;

    portd: gpio-port@3 {
     compatible = "snps,dw-apb-gpio-port";
     gpio-controller;
     #gpio-cells = <2>;
     ngpios = <32>;
     reg = <0>;
     interrupt-controller;
     #interrupt-cells = <2>;
     interrupts = <3>;
    };
   };

   i2c0: i2c@1400 {
    compatible = "snps,designware-i2c";
    #address-cells = <1>;
    #size-cells = <0>;
    reg = <0x1400 0x100>;
    interrupts = <4>;
    clocks = <&chip_clk 2>;
    pinctrl-0 = <&twsi0_pmux>;
    pinctrl-names = "default";
    status = "disabled";
   };

   i2c1: i2c@1800 {
    compatible = "snps,designware-i2c";
    #address-cells = <1>;
    #size-cells = <0>;
    reg = <0x1800 0x100>;
    interrupts = <5>;
    clocks = <&chip_clk 2>;
    pinctrl-0 = <&twsi1_pmux>;
    pinctrl-names = "default";
    status = "disabled";
   };

   timer0: timer@2c00 {
    compatible = "snps,dw-apb-timer";
    reg = <0x2c00 0x14>;
    clocks = <&chip_clk 2>;
    clock-names = "timer";
    interrupts = <8>;
   };

   timer1: timer@2c14 {
    compatible = "snps,dw-apb-timer";
    reg = <0x2c14 0x14>;
    clocks = <&chip_clk 2>;
    clock-names = "timer";
   };

   timer2: timer@2c28 {
    compatible = "snps,dw-apb-timer";
    reg = <0x2c28 0x14>;
    clocks = <&chip_clk 2>;
    clock-names = "timer";
    status = "disabled";
   };

   timer3: timer@2c3c {
    compatible = "snps,dw-apb-timer";
    reg = <0x2c3c 0x14>;
    clocks = <&chip_clk 2>;
    clock-names = "timer";
    status = "disabled";
   };

   timer4: timer@2c50 {
    compatible = "snps,dw-apb-timer";
    reg = <0x2c50 0x14>;
    clocks = <&chip_clk 2>;
    clock-names = "timer";
    status = "disabled";
   };

   timer5: timer@2c64 {
    compatible = "snps,dw-apb-timer";
    reg = <0x2c64 0x14>;
    clocks = <&chip_clk 2>;
    clock-names = "timer";
    status = "disabled";
   };

   timer6: timer@2c78 {
    compatible = "snps,dw-apb-timer";
    reg = <0x2c78 0x14>;
    clocks = <&chip_clk 2>;
    clock-names = "timer";
    status = "disabled";
   };

   timer7: timer@2c8c {
    compatible = "snps,dw-apb-timer";
    reg = <0x2c8c 0x14>;
    clocks = <&chip_clk 2>;
    clock-names = "timer";
    status = "disabled";
   };

   aic: interrupt-controller@3800 {
    compatible = "snps,dw-apb-ictl";
    reg = <0x3800 0x30>;
    interrupt-controller;
    #interrupt-cells = <1>;
    interrupt-parent = <&gic>;
    interrupts = <0 3 4>;
   };
  };

  chip: chip-control@ea0000 {
   compatible = "simple-mfd", "syscon";
   reg = <0xea0000 0x400>, <0xdd0170 0x10>;

   chip_clk: clock {
    compatible = "marvell,berlin2q-clk";
    #clock-cells = <1>;
    clocks = <&refclk>;
    clock-names = "refclk";
   };

   soc_pinctrl: pin-controller {
    compatible = "marvell,berlin2q-soc-pinctrl";

    sd1_pmux: sd1-pmux {
     groups = "G31";
     function = "sd1";
    };

    twsi0_pmux: twsi0-pmux {
     groups = "G6";
     function = "twsi0";
    };

    twsi1_pmux: twsi1-pmux {
     groups = "G7";
     function = "twsi1";
    };
   };

   chip_rst: reset {
    compatible = "marvell,berlin2-reset";
    #reset-cells = <2>;
   };
  };

  ahci: sata@e90000 {
   compatible = "marvell,berlin2q-ahci", "generic-ahci";
   reg = <0xe90000 0x1000>;
   interrupts = <0 7 4>;
   clocks = <&chip_clk 15>;
   #address-cells = <1>;
   #size-cells = <0>;

   sata0: sata-port@0 {
    reg = <0>;
    phys = <&sata_phy 0>;
    status = "disabled";
   };

   sata1: sata-port@1 {
    reg = <1>;
    phys = <&sata_phy 1>;
    status = "disabled";
   };
  };

  sata_phy: phy@e900a0 {
   compatible = "marvell,berlin2q-sata-phy";
   reg = <0xe900a0 0x200>;
   clocks = <&chip_clk 15>;
   #address-cells = <1>;
   #size-cells = <0>;
   #phy-cells = <1>;
   status = "disabled";

   sata-phy@0 {
    reg = <0>;
   };

   sata-phy@1 {
    reg = <1>;
   };
  };

  usb0: usb@ed0000 {
   compatible = "chipidea,usb2";
   reg = <0xed0000 0x10000>;
   interrupts = <0 11 4>;
   clocks = <&chip_clk 17>;
   phys = <&usb_phy0>;
   phy-names = "usb-phy";
   status = "disabled";
  };

  usb1: usb@ee0000 {
   compatible = "chipidea,usb2";
   reg = <0xee0000 0x10000>;
   interrupts = <0 12 4>;
   clocks = <&chip_clk 18>;
   phys = <&usb_phy1>;
   phy-names = "usb-phy";
   status = "disabled";
  };

  pwm: pwm@f20000 {
   compatible = "marvell,berlin-pwm";
   reg = <0xf20000 0x40>;
   clocks = <&chip_clk 2>;
   #pwm-cells = <3>;
  };

  apb@fc0000 {
   compatible = "simple-bus";
   #address-cells = <1>;
   #size-cells = <1>;

   ranges = <0 0xfc0000 0x10000>;
   interrupt-parent = <&sic>;

   wdt0: watchdog@1000 {
    compatible = "snps,dw-wdt";
    reg = <0x1000 0x100>;
    clocks = <&refclk>;
    interrupts = <0>;
   };

   wdt1: watchdog@2000 {
    compatible = "snps,dw-wdt";
    reg = <0x2000 0x100>;
    clocks = <&refclk>;
    interrupts = <1>;
   };

   wdt2: watchdog@3000 {
    compatible = "snps,dw-wdt";
    reg = <0x3000 0x100>;
    clocks = <&refclk>;
    interrupts = <2>;
   };

   sm_gpio1: gpio@5000 {
    compatible = "snps,dw-apb-gpio";
    reg = <0x5000 0x400>;
    #address-cells = <1>;
    #size-cells = <0>;

    portf: gpio-port@5 {
     compatible = "snps,dw-apb-gpio-port";
     gpio-controller;
     #gpio-cells = <2>;
     ngpios = <32>;
     reg = <0>;
    };
   };

   i2c2: i2c@7000 {
    compatible = "snps,designware-i2c";
    #address-cells = <1>;
    #size-cells = <0>;
    reg = <0x7000 0x100>;
    interrupts = <6>;
    clocks = <&refclk>;
    pinctrl-0 = <&twsi2_pmux>;
    pinctrl-names = "default";
    status = "disabled";
   };

   i2c3: i2c@8000 {
    compatible = "snps,designware-i2c";
    #address-cells = <1>;
    #size-cells = <0>;
    reg = <0x8000 0x100>;
    interrupts = <7>;
    clocks = <&refclk>;
    pinctrl-0 = <&twsi3_pmux>;
    pinctrl-names = "default";
    status = "disabled";
   };

   uart0: uart@9000 {
    compatible = "snps,dw-apb-uart";
    reg = <0x9000 0x100>;
    interrupts = <8>;
    clocks = <&refclk>;
    reg-shift = <2>;
    pinctrl-0 = <&uart0_pmux>;
    pinctrl-names = "default";
    status = "disabled";
   };

   uart1: uart@a000 {
    compatible = "snps,dw-apb-uart";
    reg = <0xa000 0x100>;
    interrupts = <9>;
    clocks = <&refclk>;
    reg-shift = <2>;
    pinctrl-0 = <&uart1_pmux>;
    pinctrl-names = "default";
    status = "disabled";
   };

   sm_gpio0: gpio@c000 {
    compatible = "snps,dw-apb-gpio";
    reg = <0xc000 0x400>;
    #address-cells = <1>;
    #size-cells = <0>;

    porte: gpio-port@4 {
     compatible = "snps,dw-apb-gpio-port";
     gpio-controller;
     #gpio-cells = <2>;
     ngpios = <32>;
     reg = <0>;
    };
   };

   sysctrl: pin-controller@d000 {
    compatible = "simple-mfd", "syscon";
    reg = <0xd000 0x100>;

    sys_pinctrl: pin-controller {
     compatible = "marvell,berlin2q-system-pinctrl";

     uart0_pmux: uart0-pmux {
      groups = "GSM12";
      function = "uart0";
     };

     uart1_pmux: uart1-pmux {
      groups = "GSM14";
      function = "uart1";
     };

     twsi2_pmux: twsi2-pmux {
      groups = "GSM13";
      function = "twsi2";
     };

     twsi3_pmux: twsi3-pmux {
      groups = "GSM14";
      function = "twsi3";
     };
    };

    adc: adc {
     compatible = "marvell,berlin2-adc";
     interrupts = <12>, <14>;
     interrupt-names = "adc", "tsen";
    };
   };

   sic: interrupt-controller@e000 {
    compatible = "snps,dw-apb-ictl";
    reg = <0xe000 0x30>;
    interrupt-controller;
    #interrupt-cells = <1>;
    interrupt-parent = <&gic>;
    interrupts = <0 15 4>;
   };
  };
 };
};
# 10 "arch/arm/boot/dts/berlin2q-marvell-dmp.dts" 2

/ {
 model = "Marvell BG2-Q DMP";
 compatible = "marvell,berlin2q-dmp", "marvell,berlin2q", "marvell,berlin";

 memory@0 {
  device_type = "memory";
  reg = <0x00000000 0x80000000>;
 };

 chosen {
  bootargs = "earlyprintk";
  stdout-path = "serial0:115200n8";
 };

 regulators {
  compatible = "simple-bus";
  #address-cells = <1>;
  #size-cells = <0>;

  reg_usb0_vbus: regulator_usb0 {
   compatible = "regulator-fixed";
   regulator-name = "usb0_vbus";
   regulator-min-microvolt = <5000000>;
   regulator-max-microvolt = <5000000>;
   gpio = <&portb 8 0>;
   enable-active-high;
  };

  reg_usb1_vbus: regulator_usb1 {
   compatible = "regulator-fixed";
   regulator-name = "usb1_vbus";
   regulator-min-microvolt = <5000000>;
   regulator-max-microvolt = <5000000>;
   gpio = <&portb 10 0>;
   enable-active-high;
  };

  reg_usb2_vbus: regulator_usb2 {
   compatible = "regulator-fixed";
   regulator-name = "usb2_vbus";
   regulator-min-microvolt = <5000000>;
   regulator-max-microvolt = <5000000>;
   gpio = <&portb 12 0>;
   enable-active-high;
  };

  reg_sdio1_vmmc: regulator_sdio1_vmmc {
   compatible = "regulator-fixed";
   regulator-min-microvolt = <3300000>;
   regulator-max-microvolt = <3300000>;
   regulator-name = "sdio1_vmmc";
   enable-active-high;
   regulator-boot-on;
   gpio = <&portb 21 0>;
  };

  reg_sdio1_vqmmc: regulator_sido1_vqmmc {
   compatible = "regulator-gpio";
   regulator-min-microvolt = <1800000>;
   regulator-max-microvolt = <3300000>;
   regulator-name = "sdio1_vqmmc";
   regulator-type = "voltage";
   enable-active-high;
   gpios = <&portb 16 0>;
   states = <3300000 0x1
      1800000 0x0>;
  };
 };
};

&soc_pinctrl {
 sd1gpio_pmux: sd1pwr-pmux {
  groups = "G23", "G32";
  function = "gpio";
 };
};

&sdhci1 {
 vmmc-supply = <&reg_sdio1_vmmc>;
 vqmmc-supply = <&reg_sdio1_vqmmc>;
 cd-gpios = <&portc 30 1>;
 wp-gpios = <&portd 0 0>;
 pinctrl-0 = <&sd1gpio_pmux>, <&sd1_pmux>;
 pinctrl-names = "default";
 status = "okay";
};

&sdhci2 {
 bus-width = <8>;
 non-removable;
 status = "okay";
};

&i2c0 {
 status = "okay";
};

&i2c2 {
 status = "okay";
};

&uart0 {
 status = "okay";
};

&usb_phy0 {
 status = "okay";
};

&usb_phy2 {
 status = "okay";
};

&usb0 {
 vbus-supply = <&reg_usb0_vbus>;
 status = "okay";
};

&usb2 {
 vbus-supply = <&reg_usb2_vbus>;
 status = "okay";
};

&eth0 {
 status = "okay";
};

&sata0 {
 status = "okay";
};

&sata_phy {
 status = "okay";
};
