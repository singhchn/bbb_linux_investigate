# 1 "arch/arm/boot/dts/bcm958305k.dts"
# 1 "<built-in>"
# 1 "<command-line>"
# 1 "arch/arm/boot/dts/bcm958305k.dts"
# 33 "arch/arm/boot/dts/bcm958305k.dts"
/dts-v1/;

# 1 "arch/arm/boot/dts/bcm-cygnus.dtsi" 1
# 33 "arch/arm/boot/dts/bcm-cygnus.dtsi"
# 1 "./scripts/dtc/include-prefixes/dt-bindings/interrupt-controller/arm-gic.h" 1
# 9 "./scripts/dtc/include-prefixes/dt-bindings/interrupt-controller/arm-gic.h"
# 1 "./scripts/dtc/include-prefixes/dt-bindings/interrupt-controller/irq.h" 1
# 10 "./scripts/dtc/include-prefixes/dt-bindings/interrupt-controller/arm-gic.h" 2
# 34 "arch/arm/boot/dts/bcm-cygnus.dtsi" 2

# 1 "./scripts/dtc/include-prefixes/dt-bindings/clock/bcm-cygnus.h" 1
# 36 "arch/arm/boot/dts/bcm-cygnus.dtsi" 2

/ {
 #address-cells = <1>;
 #size-cells = <1>;
 compatible = "brcm,cygnus";
 model = "Broadcom Cygnus SoC";
 interrupt-parent = <&gic>;

 aliases {
  ethernet0 = &eth0;
 };

 memory@0 {
  device_type = "memory";
  reg = <0 0>;
 };

 cpus {
  #address-cells = <1>;
  #size-cells = <0>;

  cpu@0 {
   device_type = "cpu";
   compatible = "arm,cortex-a9";
   next-level-cache = <&L2>;
   reg = <0x0>;
  };
 };

 /include/ "bcm-cygnus-clock.dtsi"

 pmu {
  compatible = "arm,cortex-a9-pmu";
  interrupts = <0 8 4>;
 };

 core@19000000 {
  compatible = "simple-bus";
  ranges = <0x00000000 0x19000000 0x1000000>;
  #address-cells = <1>;
  #size-cells = <1>;

  timer@20200 {
   compatible = "arm,cortex-a9-global-timer";
   reg = <0x20200 0x100>;
   interrupts = <1 11 1>;
   clocks = <&periph_clk>;
  };

  gic: interrupt-controller@21000 {
   compatible = "arm,cortex-a9-gic";
   #interrupt-cells = <3>;
   #address-cells = <0>;
   interrupt-controller;
   reg = <0x21000 0x1000>,
         <0x20100 0x100>;
  };

  L2: cache-controller@22000 {
   compatible = "arm,pl310-cache";
   reg = <0x22000 0x1000>;
   cache-unified;
   cache-level = <2>;
  };
 };

 axi {
  compatible = "simple-bus";
  ranges;
  #address-cells = <1>;
  #size-cells = <1>;

  otp: otp@301c800 {
   compatible = "brcm,ocotp";
   reg = <0x0301c800 0x2c>;
   brcm,ocotp-size = <2048>;
   status = "disabled";
  };

  pcie_phy: pcie_phy@301d0a0 {
   compatible = "brcm,cygnus-pcie-phy";
   reg = <0x0301d0a0 0x14>;
   #address-cells = <1>;
   #size-cells = <0>;

   pcie0_phy: pcie-phy@0 {
    reg = <0>;
    #phy-cells = <0>;
   };

   pcie1_phy: pcie-phy@1 {
    reg = <1>;
    #phy-cells = <0>;
   };
  };

  pinctrl: pinctrl@301d0c8 {
   compatible = "brcm,cygnus-pinmux";
   reg = <0x0301d0c8 0x30>,
         <0x0301d24c 0x2c>;

   spi_0: spi_0 {
    function = "spi0";
    groups = "spi0_grp";
   };

   spi_1: spi_1 {
    function = "spi1";
    groups = "spi1_grp";
   };

   spi_2: spi_2 {
    function = "spi2";
    groups = "spi2_grp";
   };
  };

  mailbox: mailbox@3024024 {
   compatible = "brcm,iproc-mailbox";
   reg = <0x03024024 0x40>;
   interrupts = <0 138 4>;
   #interrupt-cells = <1>;
   interrupt-controller;
   #mbox-cells = <1>;
  };

  gpio_crmu: gpio@3024800 {
   compatible = "brcm,cygnus-crmu-gpio";
   reg = <0x03024800 0x50>,
         <0x03024008 0x18>;
   ngpios = <6>;
   #gpio-cells = <2>;
   gpio-controller;
   interrupt-controller;
   interrupt-parent = <&mailbox>;
   interrupts = <0>;
  };

  mdio: mdio@18002000 {
   compatible = "brcm,iproc-mdio";
   reg = <0x18002000 0x8>;
   #size-cells = <0>;
   #address-cells = <1>;
   status = "disabled";

   gphy0: ethernet-phy@0 {
    reg = <0>;
   };

   gphy1: ethernet-phy@1 {
    reg = <1>;
   };
  };

  switch: switch@18007000 {
   compatible = "brcm,bcm11360-srab", "brcm,cygnus-srab";
   reg = <0x18007000 0x1000>;
   status = "disabled";

   ports {
    #address-cells = <1>;
    #size-cells = <0>;

    port@0 {
     reg = <0>;
     phy-handle = <&gphy0>;
     phy-mode = "rgmii";
    };

    port@1 {
     reg = <1>;
     phy-handle = <&gphy1>;
     phy-mode = "rgmii";
    };

    port@8 {
     reg = <8>;
     label = "cpu";
     ethernet = <&eth0>;
     fixed-link {
      speed = <1000>;
      full-duplex;
     };
    };
   };
  };

  i2c0: i2c@18008000 {
   compatible = "brcm,cygnus-iproc-i2c", "brcm,iproc-i2c";
   reg = <0x18008000 0x100>;
   #address-cells = <1>;
   #size-cells = <0>;
   interrupts = <0 85 4>;
   clock-frequency = <100000>;
   status = "disabled";
  };

  wdt0: wdt@18009000 {
   compatible = "arm,sp805" , "arm,primecell";
   reg = <0x18009000 0x1000>;
   interrupts = <0 91 4>;
   clocks = <&axi81_clk>, <&axi81_clk>;
   clock-names = "wdog_clk", "apb_pclk";
  };

  gpio_ccm: gpio@1800a000 {
   compatible = "brcm,cygnus-ccm-gpio";
   reg = <0x1800a000 0x50>,
         <0x0301d164 0x20>;
   ngpios = <24>;
   #gpio-cells = <2>;
   gpio-controller;
   interrupts = <0 84 4>;
   interrupt-controller;
  };

  i2c1: i2c@1800b000 {
   compatible = "brcm,cygnus-iproc-i2c", "brcm,iproc-i2c";
   reg = <0x1800b000 0x100>;
   #address-cells = <1>;
   #size-cells = <0>;
   interrupts = <0 86 4>;
   clock-frequency = <100000>;
   status = "disabled";
  };

  pcie0: pcie@18012000 {
   compatible = "brcm,iproc-pcie";
   reg = <0x18012000 0x1000>;

   #interrupt-cells = <1>;
   interrupt-map-mask = <0 0 0 0>;
   interrupt-map = <0 0 0 0 &gic 0 100 4>;

   linux,pci-domain = <0>;

   bus-range = <0x00 0xff>;

   #address-cells = <3>;
   #size-cells = <2>;
   device_type = "pci";
   ranges = <0x81000000 0 0 0x28000000 0 0x00010000>,
     <0x82000000 0 0x20000000 0x20000000 0 0x04000000>;

   phys = <&pcie0_phy>;
   phy-names = "pcie-phy";

   status = "disabled";

   msi-parent = <&msi0>;
   msi0: msi {
    compatible = "brcm,iproc-msi";
    msi-controller;
    interrupt-parent = <&gic>;
    interrupts = <0 96 4>,
          <0 97 4>,
          <0 98 4>,
          <0 99 4>;
   };
  };

  pcie1: pcie@18013000 {
   compatible = "brcm,iproc-pcie";
   reg = <0x18013000 0x1000>;

   #interrupt-cells = <1>;
   interrupt-map-mask = <0 0 0 0>;
   interrupt-map = <0 0 0 0 &gic 0 106 4>;

   linux,pci-domain = <1>;

   bus-range = <0x00 0xff>;

   #address-cells = <3>;
   #size-cells = <2>;
   device_type = "pci";
   ranges = <0x81000000 0 0 0x48000000 0 0x00010000>,
     <0x82000000 0 0x40000000 0x40000000 0 0x04000000>;

   phys = <&pcie1_phy>;
   phy-names = "pcie-phy";

   status = "disabled";

   msi-parent = <&msi1>;
   msi1: msi {
    compatible = "brcm,iproc-msi";
    msi-controller;
    interrupt-parent = <&gic>;
    interrupts = <0 102 4>,
          <0 103 4>,
          <0 104 4>,
          <0 105 4>;
   };
  };

  dma0: dma@18018000 {
   compatible = "arm,pl330", "arm,primecell";
   reg = <0x18018000 0x1000>;
   interrupts = <0 52 4>,
         <0 53 4>,
         <0 54 4>,
         <0 55 4>,
         <0 56 4>,
         <0 57 4>,
         <0 58 4>,
         <0 59 4>,
         <0 67 4>;
   clocks = <&apb_clk>;
   clock-names = "apb_pclk";
   #dma-cells = <1>;
  };

  uart0: serial@18020000 {
   compatible = "snps,dw-apb-uart";
   reg = <0x18020000 0x100>;
   reg-shift = <2>;
   reg-io-width = <4>;
   interrupts = <0 73 4>;
   clocks = <&axi81_clk>;
   clock-frequency = <100000000>;
   status = "disabled";
  };

  uart1: serial@18021000 {
   compatible = "snps,dw-apb-uart";
   reg = <0x18021000 0x100>;
   reg-shift = <2>;
   reg-io-width = <4>;
   interrupts = <0 74 4>;
   clocks = <&axi81_clk>;
   clock-frequency = <100000000>;
   status = "disabled";
  };

  uart2: serial@18022000 {
   compatible = "snps,dw-apb-uart";
   reg = <0x18022000 0x100>;
   reg-shift = <2>;
   reg-io-width = <4>;
   interrupts = <0 75 4>;
   clocks = <&axi81_clk>;
   clock-frequency = <100000000>;
   status = "disabled";
  };

  uart3: serial@18023000 {
   compatible = "snps,dw-apb-uart";
   reg = <0x18023000 0x100>;
   reg-shift = <2>;
   reg-io-width = <4>;
   interrupts = <0 76 4>;
   clocks = <&axi81_clk>;
   clock-frequency = <100000000>;
   status = "disabled";
  };

  spi0: spi@18028000 {
   compatible = "arm,pl022", "arm,primecell";
   reg = <0x18028000 0x1000>;
   #address-cells = <1>;
   #size-cells = <0>;
   interrupts = <0 78 4>;
   pinctrl-0 = <&spi_0>;
   clocks = <&axi81_clk>, <&axi81_clk>;
   clock-names = "sspclk", "apb_pclk";
   status = "disabled";
  };

  spi1: spi@18029000 {
   compatible = "arm,pl022", "arm,primecell";
   reg = <0x18029000 0x1000>;
   #address-cells = <1>;
   #size-cells = <0>;
   interrupts = <0 79 4>;
   pinctrl-0 = <&spi_1>;
   clocks = <&axi81_clk>, <&axi81_clk>;
   clock-names = "sspclk", "apb_pclk";
   status = "disabled";
  };

  spi2: spi@1802a000 {
   compatible = "arm,pl022", "arm,primecell";
   reg = <0x1802a000 0x1000>;
   #address-cells = <1>;
   #size-cells = <0>;
   interrupts = <0 80 4>;
   pinctrl-0 = <&spi_2>;
   clocks = <&axi81_clk>, <&axi81_clk>;
   clock-names = "sspclk", "apb_pclk";
   status = "disabled";
  };

  rng: rng@18032000 {
   compatible = "brcm,iproc-rng200";
   reg = <0x18032000 0x28>;
  };

  sdhci0: sdhci@18041000 {
   compatible = "brcm,sdhci-iproc-cygnus";
   reg = <0x18041000 0x100>;
   interrupts = <0 108 4>;
   clocks = <&lcpll0 3>;
   bus-width = <4>;
   sdhci,auto-cmd12;
   status = "disabled";
  };

  eth0: ethernet@18042000 {
   compatible = "brcm,amac";
   reg = <0x18042000 0x1000>,
         <0x18110000 0x1000>;
   reg-names = "amac_base", "idm_base";
   interrupts = <0 110 4>;
   status = "disabled";
  };

  sdhci1: sdhci@18043000 {
   compatible = "brcm,sdhci-iproc-cygnus";
   reg = <0x18043000 0x100>;
   interrupts = <0 109 4>;
   clocks = <&lcpll0 3>;
   bus-width = <4>;
   sdhci,auto-cmd12;
   status = "disabled";
  };

  nand_controller: nand-controller@18046000 {
   compatible = "brcm,nand-iproc", "brcm,brcmnand-v6.1";
   reg = <0x18046000 0x600>, <0xf8105408 0x600>,
         <0x18046f00 0x20>;
   reg-names = "nand", "iproc-idm", "iproc-ext";
   interrupts = <0 69 4>;

   #address-cells = <1>;
   #size-cells = <0>;

   brcm,nand-has-wp;
  };

  ehci0: usb@18048000 {
   compatible = "generic-ehci";
   reg = <0x18048000 0x100>;
   interrupts = <0 72 4>;
   status = "disabled";
  };

  ohci0: usb@18048800 {
   compatible = "generic-ohci";
   reg = <0x18048800 0x100>;
   interrupts = <0 72 4>;
   status = "disabled";
  };

  clcd: clcd@180a0000 {
   compatible = "arm,pl111", "arm,primecell";
   reg = <0x180a0000 0x1000>;
   interrupts = <0 155 4>;
   interrupt-names = "combined";
   clocks = <&axi41_clk>, <&apb_clk>;
   clock-names = "clcdclk", "apb_pclk";
   status = "disabled";
  };

  v3d: v3d@180a2000 {
   compatible = "brcm,cygnus-v3d";
   reg = <0x180a2000 0x1000>;
   clocks = <&mipipll 3>;
   clock-names = "v3d_clk";
   interrupts = <0 182 4>;
   status = "disabled";
  };

  vc4: gpu {
   compatible = "brcm,cygnus-vc4";
  };

  gpio_asiu: gpio@180a5000 {
   compatible = "brcm,cygnus-asiu-gpio";
   reg = <0x180a5000 0x668>;
   ngpios = <146>;
   #gpio-cells = <2>;
   gpio-controller;

   interrupt-controller;
   interrupts = <0 174 4>;
   gpio-ranges = <&pinctrl 0 42 1>,
     <&pinctrl 1 44 3>,
     <&pinctrl 4 48 1>,
     <&pinctrl 5 50 3>,
     <&pinctrl 8 126 1>,
     <&pinctrl 9 155 1>,
     <&pinctrl 10 152 1>,
     <&pinctrl 11 154 1>,
     <&pinctrl 12 153 1>,
     <&pinctrl 13 127 3>,
     <&pinctrl 16 140 1>,
     <&pinctrl 17 145 7>,
     <&pinctrl 24 130 10>,
     <&pinctrl 34 141 4>,
     <&pinctrl 38 54 1>,
     <&pinctrl 39 56 3>,
     <&pinctrl 42 60 3>,
     <&pinctrl 45 64 3>,
     <&pinctrl 48 68 2>,
     <&pinctrl 50 84 6>,
     <&pinctrl 56 94 6>,
     <&pinctrl 62 72 1>,
     <&pinctrl 63 70 1>,
     <&pinctrl 64 80 1>,
     <&pinctrl 65 74 3>,
     <&pinctrl 68 78 1>,
     <&pinctrl 69 82 1>,
     <&pinctrl 70 156 17>,
     <&pinctrl 87 104 12>,
     <&pinctrl 99 102 2>,
     <&pinctrl 101 90 4>,
     <&pinctrl 105 116 6>,
     <&pinctrl 111 100 2>,
     <&pinctrl 113 122 4>,
     <&pinctrl 123 11 1>,
     <&pinctrl 124 38 4>,
     <&pinctrl 128 43 1>,
     <&pinctrl 129 47 1>,
     <&pinctrl 130 49 1>,
     <&pinctrl 131 53 1>,
     <&pinctrl 132 55 1>,
     <&pinctrl 133 59 1>,
     <&pinctrl 134 63 1>,
     <&pinctrl 135 67 1>,
     <&pinctrl 136 71 1>,
     <&pinctrl 137 73 1>,
     <&pinctrl 138 77 1>,
     <&pinctrl 139 79 1>,
     <&pinctrl 140 81 1>,
     <&pinctrl 141 83 1>,
     <&pinctrl 142 10 1>;
  };

  ts_adc_syscon: ts_adc_syscon@180a6000 {
   compatible = "brcm,iproc-ts-adc-syscon", "syscon";
   reg = <0x180a6000 0xc30>;
  };

  touchscreen: touchscreen@180a6000 {
   compatible = "brcm,iproc-touchscreen";
   #address-cells = <1>;
   #size-cells = <1>;
   ts_syscon = <&ts_adc_syscon>;
   clocks = <&asiu_clks 1>;
   clock-names = "tsc_clk";
   interrupts = <0 164 4>;
   status = "disabled";
  };

  adc: adc@180a6000 {
   compatible = "brcm,iproc-static-adc";
   #io-channel-cells = <1>;
   adc-syscon = <&ts_adc_syscon>;
   clocks = <&asiu_clks 1>;
   clock-names = "tsc_clk";
   interrupts = <0 164 4>;
   status = "disabled";
  };

  pwm: pwm@180aa500 {
   compatible = "brcm,kona-pwm";
   reg = <0x180aa500 0xc4>;
   #pwm-cells = <3>;
   clocks = <&asiu_clks 2>;
   status = "disabled";
  };

  keypad: keypad@180ac000 {
   compatible = "brcm,bcm-keypad";
   reg = <0x180ac000 0x14c>;
   interrupts = <0 165 4>;
   clocks = <&asiu_clks 0>;
   clock-names = "peri_clk";
   clock-frequency = <31250>;
   pull-up-enabled;
   col-debounce-filter-period = <0>;
   status-debounce-filter-period = <0>;
   row-output-enabled;
   status = "disabled";
  };
 };
};
# 36 "arch/arm/boot/dts/bcm958305k.dts" 2
# 1 "arch/arm/boot/dts/bcm9hmidc.dtsi" 1
# 38 "arch/arm/boot/dts/bcm9hmidc.dtsi"
&touchscreen {
 touchscreen-inverted-x;
 touchscreen-inverted-y;
 status = "okay";
};
# 37 "arch/arm/boot/dts/bcm958305k.dts" 2

/ {
 model = "Cygnus Wireless Audio (BCM958305K)";
 compatible = "brcm,bcm58305", "brcm,cygnus";

 aliases {
  serial0 = &uart3;
 };

 chosen {
  stdout-path = "serial0:115200n8";
 };
};

&i2c0 {
 status = "okay";
};

&i2c1 {
 status = "okay";
};

&pcie0 {
 status = "okay";
};

&pcie1 {
 status = "okay";
};

&uart3 {
 status = "okay";
};

&nand_controller {
 nand@1 {
  compatible = "brcm,nandcs";
  reg = <0>;
  nand-on-flash-bbt;

  #address-cells = <1>;
  #size-cells = <1>;

  nand-ecc-strength = <24>;
  nand-ecc-step-size = <1024>;

  brcm,nand-oob-sector-size = <27>;
 };
};
